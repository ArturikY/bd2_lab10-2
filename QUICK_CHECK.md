# üöÄ –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –∑–∞–¥–∞–Ω–∏–π

## üìå –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º

```bash
# 1. –û–±–Ω–æ–≤–∏—Ç–µ –ë–î
mysql -u root -p bd_lab10-2 < database_schema_update.sql

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
php -S localhost:8000

# 3. –î–æ–±–∞–≤—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ 1
# –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
http://localhost:8000/device_status.php?ID=1&Term=25&Rele=1
```

---

## ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è

### üìã –ó–∞–¥–∞–Ω–∏–µ 1: `index.php`
**–ß—Ç–æ —É–≤–∏–¥–∏—Ç–µ:**
- –¢–∞–±–ª–∏—Ü–∞ —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º "MyDevice"
- –î–∞–Ω–Ω—ã–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –∏ —Ä–µ–ª–µ
- 2 –∫–Ω–æ–ø–∫–∏: "–í–∫–ª—é—á–∏—Ç—å —Ä–µ–ª–µ" / "–í—ã–∫–ª—é—á–∏—Ç—å —Ä–µ–ª–µ"
**–ü—Ä–æ–≤–µ—Ä–∫–∞:** –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫–∏ ‚Üí —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

---

### üìã –ó–∞–¥–∞–Ω–∏–µ 2: `task2_index.php`
**–ß—Ç–æ —É–≤–∏–¥–∏—Ç–µ:**
- –¢–æ –∂–µ —Å–∞–º–æ–µ, –Ω–æ **—Å –∫—Ä–∞—Å–∏–≤—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º** (—Ä–∞–º–∫–∏, —Å—Ç–∏–ª–∏)
- –ó–∞–≥–æ–ª–æ–≤–æ–∫: "–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: ... (ID: 1)"
**–ü—Ä–æ–≤–µ—Ä–∫–∞:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª—ã `config.php` –∏ `template.php` ‚Üí –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ

---

### üìã –ó–∞–¥–∞–Ω–∏–µ 3: `task3_index.php`
**–ß—Ç–æ —É–≤–∏–¥–∏—Ç–µ:**
- –ó–∞–≥–æ–ª–æ–≤–æ–∫: "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏"
- **–ù–µ—Å–∫–æ–ª—å–∫–æ –±–ª–æ–∫–æ–≤ —É—Å—Ç—Ä–æ–π—Å—Ç–≤** (–µ—Å–ª–∏ –µ—Å—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ 1, 2, 3)
- –ö–∞–∂–¥–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å–æ —Å–≤–æ–∏–º–∏ –∫–Ω–æ–ø–∫–∞–º–∏
**–ü—Ä–æ–≤–µ—Ä–∫–∞:** –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ ‚Üí –∫–æ–º–∞–Ω–¥—ã —Ä–∞–∑–Ω—ã–µ

---

### üìã –ó–∞–¥–∞–Ω–∏–µ 4: `task4_index.php?device_token=token_device_1`
**–ß—Ç–æ —É–≤–∏–¥–∏—Ç–µ:**
- **–¢–æ–ª—å–∫–æ –æ–¥–Ω–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ** (—Å —Ç–æ–∫–µ–Ω–æ–º) –ò–õ–ò –≤—Å–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–±–µ–∑ —Ç–æ–∫–µ–Ω–∞)
**–ü—Ä–æ–≤–µ—Ä–∫–∞:** 
- –° —Ç–æ–∫–µ–Ω–æ–º ‚Üí –æ–¥–Ω–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
- –ë–µ–∑ —Ç–æ–∫–µ–Ω–∞ ‚Üí –≤—Å–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

---

### üìã –ó–∞–¥–∞–Ω–∏–µ 5: `task5_index.php`
**–ß—Ç–æ —É–≤–∏–¥–∏—Ç–µ:**
- –í—Å–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–∫–∞–∫ –≤ –∑–∞–¥–∞–Ω–∏–∏ 3)
- **–ù–û! –ü–æ–¥ –∫–∞–∂–¥—ã–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º —Å—Å—ã–ª–∫–∞ "–ò—Å—Ç–æ—Ä–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º"**
**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑
2. –ù–∞–∂–º–∏—Ç–µ —Å—Å—ã–ª–∫—É "–ò—Å—Ç–æ—Ä–∏—è"
3. –î–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Ç–∞–±–ª–∏—Ü–∞ —Å –≤–∞—à–∏–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏

---

### üìã –ó–∞–¥–∞–Ω–∏–µ 6: `task6_index.php`
**–ß—Ç–æ —É–≤–∏–¥–∏—Ç–µ (–Ω–æ—Ä–º–∞–ª—å–Ω–æ):**
- –¢–æ –∂–µ, —á—Ç–æ –∑–∞–¥–∞–Ω–∏–µ 5

**–ß—Ç–æ —É–≤–∏–¥–∏—Ç–µ (–ø–æ—Å–ª–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏):**
- ‚ùå **–ö–†–ê–°–ù–û–ï –°–û–û–ë–©–ï–ù–ò–ï:** "–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω"
- ‚ùå –¢–µ–∫—Å—Ç –æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ –∞–∫–∫–∞—É–Ω—Ç–∞
**–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏:**
- –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫–∏ >10 —Ä–∞–∑ –∑–∞ –º–∏–Ω—É—Ç—É
- –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É ‚Üí –¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É

---

### üìã –ó–∞–¥–∞–Ω–∏–µ 7: `task7_index.php`
**–ß—Ç–æ —É–≤–∏–¥–∏—Ç–µ (–Ω–æ—Ä–º–∞–ª—å–Ω–æ):**
- –¢–æ –∂–µ, —á—Ç–æ –∑–∞–¥–∞–Ω–∏–µ 5

**–ß—Ç–æ —É–≤–∏–¥–∏—Ç–µ (—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ):**
- ‚ö†Ô∏è **–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤ –ö–†–ê–°–ù–û–ô –†–ê–ú–ö–ï**
- –ö–†–ê–°–ù–´–ô —Ç–µ–∫—Å—Ç: "‚ö† –í–ù–ò–ú–ê–ù–ò–ï: –≠—Ç–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ..."
- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è **–û–¢–°–£–¢–°–¢–í–£–Æ–¢**
**–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:**
- –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –û–î–ù–û–ì–û —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ >5 —Ä–∞–∑ –∑–∞ 30 —Å–µ–∫
- –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É ‚Üí —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤ –∫—Ä–∞—Å–Ω–æ–π —Ä–∞–º–∫–µ

---

### üìã –ó–∞–¥–∞–Ω–∏–µ 8: `task8_index.php`
**–ß—Ç–æ —É–≤–∏–¥–∏—Ç–µ:**
- –¢–æ –∂–µ, —á—Ç–æ –∑–∞–¥–∞–Ω–∏–µ 7
**–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞—â–∏—Ç—ã:**
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ: `task8_index.php?device_id=1' OR '1'='1`
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω–æ (–Ω–µ —É–ø–∞—Å—Ç—å)
- –í –∫–æ–¥–µ –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã —Å `$pdo->prepare()` –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ `:id`

---

## üéØ –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

### `tasks_index.php`
**–ß—Ç–æ —É–≤–∏–¥–∏—Ç–µ:**
- –ö—Ä–∞—Å–∏–≤—ã–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö 8 –∑–∞–¥–∞–Ω–∏–π
- –ó–µ–ª–µ–Ω—ã–µ –≥–∞–ª–æ—á–∫–∏ "‚úì –í—ã–ø–æ–ª–Ω–µ–Ω–æ"
- –°—Å—ã–ª–∫–∏ –Ω–∞ –∫–∞–∂–¥–æ–µ –∑–∞–¥–∞–Ω–∏–µ

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ë–î

```sql
-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
SELECT * FROM device_table;

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã
SELECT * FROM command_table;

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é
SELECT * FROM user_actions ORDER BY DATE_TIME DESC;

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
SELECT * FROM users WHERE USER_ID = 1;

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
SELECT DEVICE_ID, NAME, IS_BLOCKED FROM device_table;

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä—ã
SHOW TRIGGERS;
```

---

## ‚ö° –ë—ã—Å—Ç—Ä–∞—è –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø–æ –æ—á–µ—Ä–µ–¥–∏:
1. `http://localhost:8000/tasks_index.php` - –≥–ª–∞–≤–Ω–∞—è
2. `http://localhost:8000/index.php` - –∑–∞–¥–∞–Ω–∏–µ 1
3. `http://localhost:8000/task2_index.php` - –∑–∞–¥–∞–Ω–∏–µ 2
4. `http://localhost:8000/task3_index.php` - –∑–∞–¥–∞–Ω–∏–µ 3
5. `http://localhost:8000/task4_index.php?device_token=token_device_1` - –∑–∞–¥–∞–Ω–∏–µ 4
6. `http://localhost:8000/task5_index.php` - –∑–∞–¥–∞–Ω–∏–µ 5
7. `http://localhost:8000/history.php?device_id=1` - –∏—Å—Ç–æ—Ä–∏—è (–∑–∞–¥–∞–Ω–∏–µ 5)
8. `http://localhost:8000/task6_index.php` - –∑–∞–¥–∞–Ω–∏–µ 6
9. `http://localhost:8000/task7_index.php` - –∑–∞–¥–∞–Ω–∏–µ 7
10. `http://localhost:8000/task8_index.php` - –∑–∞–¥–∞–Ω–∏–µ 8

